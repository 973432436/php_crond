<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>php_crond control center</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<!-- 可选的 Bootstrap 主题文件（一般不用引入） -->
<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://unpkg.com/vue"></script>
<script type="text/javascript">
var domain = "http://127.0.0.1:8080";
var service = {
    status : false,
    
};
</script>
</head>
<body>

<div class="page-header">
  <h1>php_crond control center <small id="api-info">{{domain}}</small></h1>
</div>

<div class="panel panel-default">
  <div class="panel-heading">Status</div>
  <div class="panel-body" id="service-status">
    your service is <span class="label label-success" v-if="status">Running</span> <span class="label label-danger" v-if="!status">Stoped</span>
  </div>
</div>

<div class="panel panel-default">
  <div class="panel-heading">Operation</div>
  <div class="panel-body">
    <button type="button" class="btn btn-xs btn-success" data-toggle="modal" data-target="#addTask">Add Task</button>
    <button type="button" class="btn btn-xs btn-warning">Reload Tasks</button>
    <button type="button" class="btn btn-xs btn-danger">Shutdown</button>
  </div>
</div>

<div class="col-md-12">
     <table class="table table-condensed">
       <thead>
         <tr>
           <th>Daemon</th>
           <th>Execution</th>
           <th>Is Single</th>
           <th>Standard Output</th>
           <th>Operation</th>
         </tr>
       </thead>
       <tbody>
         <tr>
           <td>3</td>
           <td colspan="2">Larry the Bird</td>
           <td>@twitter</td>
           <td><button type="button" class="btn btn-xs btn-danger">Delete</button></td>
         </tr>
       </tbody>
     </table>
</div>

<!-- 弹窗 -->
<div class="modal fade" id="addTask" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">
            <form>
                <div class="form-group">
                    <label for="task_name">Task Name</label>
                    <input type="text" class="form-control" id="task_name" name="task_name">
                </div>
                <div class="form-group">
                    <label for="daemon">Daemon</label>
                    <input type="text" class="form-control" id="daemon" name="daemon">
                </div>
                <div class="form-group">
                    <label for="filename">Filename</label>
                    <input type="text" class="form-control" id="filename" name="filename">
                </div>
                <div class="form-group">
                    <label for="params">Params</label>
                    <input type="text" class="form-control" id="params" name="params">
                </div>
                <div class="checkbox">
                    <label>
                        <input type="checkbox" name="is_single"> Is Single
                    </label>
                </div>
                <div class="form-group">
                    <label for="params">Standard Output</label>
                    <input type="text" class="form-control" id="standard_output" name="standard_output">
                </div>
                <div class="form-group">
                    <label for="params">Error Output</label>
                    <input type="text" class="form-control" id="error_output" name="error_output">
                </div>
            </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
$(function(){
    new Vue({
      el: '#api-info',
      data: {
          domain: window.domain,
      }
    });
    new Vue({
        el: '#service-status',
        data: {
            status: window.service.status,
        }
    });
    //get service status
    $.ajax({
        url : window.domain + "/?c=status",
        dataType : "json",
        success : function(data){
            
        },
        error : function(){
            
        }
    });
});
</script>
</body>
</html>